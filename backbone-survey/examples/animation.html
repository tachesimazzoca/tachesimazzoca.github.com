<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>backbone-survey/examples/animation</title>
<script type="text/javascript" src="../lib/json2/json2.js"></script>
<script type="text/javascript" src="../lib/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../lib/underscore/underscore-min.js"></script>
<script type="text/javascript" src="../lib/backbone/backbone-min.js"></script>
<script type="text/javascript" src="../assets/js/backbone-survey.js"></script>
<script type="text/javascript">
(function($) {
  $(function() {
    var survey = new BackboneSurvey.Survey({
      survey: {
        title: "テストアンケート"
      , page: 0
      }
    , sections: [
      , {
          id: "q1"
        , page: 1 
        , question: "Q1. 単一テキスト入力設問です。"
        , type: BackboneSurvey.QuestionType.TEXT
        }
      , {
          id: "q2"
        , page: 2
        , question: "Q2. 単一選択設問です。page 値を合わせることで、複数設問を表示できます。"
        , type: BackboneSurvey.QuestionType.RADIO
        , options: [
            { value: "1", label: "はい" }
          , { value: "2", label: "いいえ" }
          ]
        }
      ]
    }, { parse: true });

    var view = new BackboneSurvey.SurveyView({
      model: survey // BackboneSurvey.Survey
    , el: $("#survey-app") // アンケートを表示する jQuery オブジェクト
    });

    view.on("start", function() { survey.startPage() } );
    view.on("prev", function() { survey.prevPage() } );
    view.on("next", function() { survey.nextPage(); });

    view.show = function($el) {
      //$("#survey-app-dummy").show();
      $el.fadeIn();
    };

    view.hide = function($el) {
      $el.hide();
    };

    // SurveyView#startPage() でアンケート開始します。
    view.startPage();
  });
})(jQuery);
</script>
</head>
<body>
  <div id="survey-app">
    <h1 class="survey-title"></h1><!-- アンケートタイトル -->
    <div id="survey-sections"></div><!-- アンケート設問(必須) -->
    <input type="button" class="survey-next" value="Next"><!-- 次ページに進みます(必須) -->
    <input type="button" class="survey-prev" value="Prev"><!-- 前ページに戻ります -->
    <p><a class="survey-start" href="javascript:void(0);">はじめからやり直す</a></p>
  </div>
  <div id="survey-app-dummy"></div>
</body>
</html>
